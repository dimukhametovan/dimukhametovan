# Как же подружить VS Code и Ubuntu?

_Наконец могут закончится страдания в онлайн-компиляторах!_

_! Здесь мы не используем виртуальную машину, работа только с Windows_

## 1 часть. Настройка базы.

1. С помощью Microsoft Store скачиваем приложения WSL и Ubuntu.
2. Устанавливем WSL на Windows. Для этого в командной строке PowerShell вводим:
```
wsl --install
```
Эта команда включит функции, необходимые для запуска WSL и установки дистрибутива Ubuntu для Linux.
> Проверить установку можно через проводник. Вместе с вашими папками ниже появится установленная папка Linux. Либо запустить комнаду bash через поиск. Она должна открыть консоль на экране.
3. Скачать Git Bash так же через Microsoft Store.
[Хорошая инструкция по установке Git в Windows](https://selectel.ru/blog/tutorials/how-to-install-git-to-windows/) 

Скорее всего на Ubuntu уже будет стоять какая-то версия гита, которую можно проверить через команду в терминале bash:
```
git --version
```
> Если ничего не произошло, можно воспользоваться любой инструкцией из инета. Скорее всего поможет обновление обновление пакетов. 

Желательно настроить гит с помощью команд в терминале bash, чтобы потом не возиться в VS Code:
```sh
git config --global user.name "Your Name"
git config --global user.email "youremail@domain.com"
```


## 2 часть. Настройка VC Code

1. Что нужно иметь в разделе Extensions (расширения):
- WSL
- C/C++ (C/C++ Extension Pack)
- CMake Tools
2. Так же нужно иметь установленный gcc на Ubuntu. Проверить установку можно через консоль bash:
  ```
  gcc --version
  ```
  > В случае неустановленной gcc воспользоваться любой инструкцией из интернета
  3. Git в целом уже включен в VS Code, поэтому его скачивать не нужно.
  4. Советую проверить работу всего установленного в VC Code. Для этого откроем любую папку и следуем инструкции:
  - На панели сверху Терминал -> Новый терминал
  - Скорее всего откроется терминал PowerShell. Это можно посмотреть над терминалом в правом верхнем углу
  - Нажимем на плюс -> Ubuntu (WSL)
  - Проверяем на наличие версий git и gcc
  - Настраиваем гит по п. 1.3, если не настроили сразу

  ## 3 часть. Как работать с лабой из репозитория? Краткий обзор

  1. Можно создать основную папку на каком-то диске. Пусть это будет папка FundInf. В этой папке необходимо открыть консоль powershell или bash (та, где у вас установлен git). При открытии консоли будет расположение типа `K:\FundInf`.
  2. Ввести команду:
  ```
git clone https:...ссылка на нужный репозиторий...
  ```

> Ссылку нужно взять на сайте, открыв репозиторий. Нажать оргомную зеленую кнопку Code -> скопировать HTTPS.

Например, первая лаба по Unix/Shell:
```
git clone https://github.com/mai-cs-labs/unix-shell-and-utils-dimukhametovan.git
```

Готово! В папке FundInf появилась папка со склонированным репозиторием и всеми нужными файлами.

3. Откроем эту папку в VC Code. Важно открывать саму папку, а не отдельный файл, чтобы корректно работать с репозиторием.

4. Самое сложное - делаем лабу.

5. Для компилирования `.c` файлов открываем терминал wsl и вводим команду:
```
gcc solution.c
```

Но я обычно использую `gcc -std=c99 -Wall -Wextra -Werror -Wdeclaration-after-statement solution.c`, т.к. она находит самые разные ошибки, в том числе и по ISO.

6. Congratulations! В папке появилась сборка `a.out`! 

7. Запустим файл через терминал командой `./a.out`. (их можно комбинировать для удобства)

8. Тестим лабу, доводим до идеала и пушим в ветку.

## 4 часть. Финал. Git Push

Можно весь процесс вливания в ветку делать как через терминал, так и с помощью графического интерфейса.
[Пункт "Работа с Git в визуальном интерфейсе"](https://selectel.ru/blog/tutorials/how-to-install-git-to-windows/)

Разницы никакой не будет, но есть хоть какой-то выбор

Но если вы хотите быть тру кодером, заливайте готовый проект через любой терминал с git с помощью этих простых команд **из папки, содержащей репозиторий**:
```
git add
git commit -m "your comment"
git push origin main
```

После этого лаба отправляется в указанную ветку (в нашем случае в main), готовая для проверки.

## Очевидные рекомендации

- Сначала все может быть очень сложно и непонятно, но с опытом приходит умение и все процессы становятся привычными и простыми. Чтобы до конца вникнуть, нужно проделать такой алгоритм хотя бы с парой штук проектов.
- Почитайте про распространненные команды git. Это поможет избавиться от проблем на работе, в какую бы сферу devops вы ни пошли. Git реально нужен везде, а сейчас самое время чтобы в нем разобраться.
- Не компилируйте в онлайн... Это грустно и больно. Есть намного более приятные способы


